from PyQt5.QtWidgets import (QWidget, QPushButton, QLineEdit,
        QInputDialog, QApplication,QDialog,QListWidget,QHBoxLayout,QListWidgetItem, QGridLayout)
from PyQt5.QtGui import QPainter, QColor, QPen
import os,sys


path=os.getcwd()
li=os.listdir(path)

def filter(inp):
    files=[]
    dirts=[]
    for i in inp:
        temp=os.path.join(path,i)
        if os.path.isfile(temp):
            files.append(i)
        else:
            dirts.append(i)
    return files,dirts

files,dirts=filter(li)

class Example(QWidget):

    def __init__(self,wi,he):
        super().__init__()
        self.wi=wi
        self.he=he

        self.initUI()


    def initUI(self):

        self.btn = QPushButton('Add_files', self)
        self.btn.move(20, 20)
        self.btn.clicked.connect(self.show_me)

        self.setGeometry(300, 300, 290, 150)
        self.setWindowTitle('Input dialog')
        self.show()

    def show_me(self):
        #d=File_dialog(self.wi,self.he)
        d=File_dialog(self.wi,self.he)
        #d.show()
        #d.exec_()


#class File_dialog(QDialog):
class File_dialog():
    def __init__(self,wi,he,parent=None):
        #super(File_dialog,self).__init__(parent)
        self.initUI(wi,he)

    def initUI(self,wi,he):
        tati=QDialog()
        tati.setMaximumSize(wi,he)

        btn = QPushButton("First Button",tati)
        btn.move(wi-100,10)

        btn1 = QPushButton("second Button",tati)
        x=100
        print(wi-100,he-x)
        btn1.move(wi-100,he-x)
        btn1.clicked.connect(self.tati1)

        lw=int(.2*wi)
        print(lw)
        l1w=wi-lw
        print(l1w)
        listWidget = QListWidget(tati)
        listWidget1 = QListWidget(tati)
        listWidget.resize(30,100)
        #listWidget.setGeometry(200,200,100,100)
        #self.listWidget.show()
        #self.listWidget1.show()

        for i in dirts:
            temp_item = QListWidgetItem(i)
            temp_item.setBackground(QColor('#7fc97f'))
            listWidget.addItem(temp_item)
        listWidget.addItems(files)
        listWidget.addItems(files)
        listWidget1.addItems(files)
        tati.exec_()

    def tati1(self):
        print("helo")


if __name__ == '__main__':

    app = QApplication(sys.argv)
    screen_resolution = app.desktop().screenGeometry()
    width, height = screen_resolution.width(), screen_resolution.height()
    print(width)
    print(height)
    ex = Example(width,height)
    #ex=File_dialog()
    sys.exit(app.exec_())
